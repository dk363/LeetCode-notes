# 排序 + 枚举中间 + 双指针
在涉及三个元素的时候 先处理中间的元素总是对我们有好处

```cpp
class Solution {
public:
    int countGoodTriplets(vector<int>& arr, int a, int b, int c) {
        vector<int> idx(arr.size());
        ranges::iota(idx, 0);
        ranges::sort(idx, [&](int i, int j) { 
            return arr[i] < arr[j]; 
        });

        int ans = 0;
        for (int j : idx) {
            int y = arr[j];
            vector<int> left, right;
            for (int i : idx) {
                if (i < j && abs(arr[i] - y) <= a) {
                    left.push_back(arr[i]);
                }
            }
            for (int k : idx) {
                if (k > j && abs(arr[k] - y) <= b) {
                    right.push_back(arr[k]);
                }
            }

            int k1 = 0, k2 = 0;
            for (int x : left) {
                while (k2 < right.size() && right[k2] <= x + c) {
                    // 这个时候 k2 恰好超过
                    k2++;
                }
                while (k1 < right.size() && right[k1] < x - c) {
                    k1++;
                }
                // 因此这里如果是要计算点的数量的话 应该要加1 
                // 然而因为上面的k2 恰好超过
                // 因此这里不需要 + 1
                ans += k2 - k1;
            }
        }
        return ans;
    }
};
```