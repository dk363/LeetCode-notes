# 前缀和
```cpp
/**
    j > i
    sum[j] - sum[i] == k
    sum[i] = sum[j] - k
    要找的是 sum[i]
    如果先更新哈希表
    会把自己存进去
    因为 j > i 应该是查找之前的 sum[i]
*/
class Solution {
public:
    int subarraySum(vector<int>& nums, int k) {
        vector<int> pre_num(nums.size() + 1);
        for (int i = 1; i < pre_num.size(); ++i) {
            pre_num[i] = nums[i - 1] + pre_num[i - 1];
        }

        unordered_map<int, int> map;
        int ans = 0;
        for (int& num : pre_num) {
            ans += (map.contains(num - k) ? map[num - k] : 0);
            map[num]++;
        }
        return ans;
    }
};
```